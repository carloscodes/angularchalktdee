<img class="logo" src="../../assets/chalk-logo1.png">

<section>
    <div class="container" style="font-size: 14px;">
        <div class="title"><h2 class="learn">Learn How Many Calories You Burn Per Day</h2>
        </div>

        <div class="layout">
    <mat-card class="matCard1">
        <form [formGroup]="firstFormGroup">
            <mat-form-field>
              <mat-label>Age (years)</mat-label>
              <input type="number" matInput placeholder="Ex.) 25" formControlName="firstCtrl" required>
            </mat-form-field>
          </form>

          <form [formGroup]="secondFormGroup">
            <mat-form-field>
              <mat-label>Body Weight (lbs)</mat-label>
              <input type="number" matInput placeholder="Ex.) 165" formControlName="secondCtrl" required>
            </mat-form-field>
          </form>


        <mat-form-field>
            <mat-label>Gender</mat-label>
        <mat-select [(ngModel)]="selectedGender" name="gender">
            <mat-option *ngFor="let g of genders" [value]="g.value">
              {{g.viewValue}}
            </mat-option>
        </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Height </mat-label>
        <mat-select [(ngModel)]="selectedHeight" name="height">
            <mat-option *ngFor="let h of heights" [value]="h.cmValue">
              {{h.ftIn}}
            </mat-option>
        </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Activity Level</mat-label>
        <mat-select [(ngModel)]="selectedActivity" name="activity">
            <mat-option *ngFor="let a of activities" [value]="a.aValue">
              {{a.value}}
            </mat-option>
        </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Macro Split/Goal </mat-label>
        <mat-select [(ngModel)]="selectedGoal" name="goal">
            <mat-option *ngFor="let g of goals" [value]="g.value">
              {{g.viewValue}}
            </mat-option>
        </mat-select>
        </mat-form-field>


        <form [formGroup]="thirdFormGroup">
            <mat-form-field>
              <mat-label>Body Fat % (Optional)</mat-label>
              <input type="number" matInput placeholder="Ex.) 22" formControlName="thirdCtrl" required>
            </mat-form-field>
          </form>

        <button (click)="showHideResults(macros)" class="button" mat-stroked-button>{{ btnText }}</button>
    </mat-card>

    <div class="matCard22">
        <h2 class="how">How TDEE is Calculated</h2>
        <br>
        <p>Your Total Daily Energy Expenditure (TDEE) is an estimation of how many calories you burn per day when exercise is taken into account. It is calculated by first figuring out your Basal Metabolic Rate, then multiplying that value by an activity multiplier.</p>
        <p>Since your BMR represents how many calories your body burns when at rest, it is necessary to adjust the numbers upwards to account for the calories you burn during the day. This is true even for those with a sedentary lifestyle. Our TDEE calculator uses the best formulas and displays your score in a way that's easy to read and meaningful.</p>
        <img class="pie" src="../../assets/tdee-pie-chart.png" >
    </div>
    </div>
    <br><br><br>

    <div class="results" *ngIf="resultsReady">
        <mat-chip-list aria-label="Selections">
            <mat-chip>{{ selectedGender }}</mat-chip>
            <mat-chip>{{ selectedHeightDisplay }}</mat-chip>
            <mat-chip>{{ selectedActivityDisplay }}</mat-chip>
            <mat-chip>{{ selectedGoalDisplay }}</mat-chip>
        </mat-chip-list>
    </div>

    <div #macros >
        <div class="macros" *ngIf="resultsReady">
            <div class="layout">
            <div class="matCard11">
                <h2>Your TDEE Results</h2>
                <br>
                <p>
                    <span class="bold">!VALUE! Calories/Day</span>
                </p>
                <hr>
                <p>
                    <span class="bold">!VALUE! Calories/Week</span>
                </p>
            </div>
            <div class="matCard22">
                <p>
                    Based on your Input, the best estimate for your maintenance calories is !VALUE! per day using the !VALUE! Formula, which is regarded as the most accurate. This table is a visual aid for all the different activity levels.
                </p>
                <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">                  
                    <!-- Name Column -->
                    <ng-container matColumnDef="activity">
                      <th mat-header-cell *matHeaderCellDef> Activity Level </th>
                      <td mat-cell *matCellDef="let res"> {{res.activity}} </td>
                    </ng-container>
                  
                    <!-- Weight Column -->
                    <ng-container matColumnDef="calories/day">
                      <th mat-header-cell *matHeaderCellDef> Calories/Day </th>
                      <td mat-cell *matCellDef="let res"> {{res.calories}} </td>
                    </ng-container>
                  
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                  </table>
            </div>
            </div>
        </div>
    </div>
    
    </div>
</section>